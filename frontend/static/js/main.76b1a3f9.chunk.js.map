{"version":3,"sources":["reportWebVitals.js","components/Loading.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/constants.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/Login.js","components/Register.js","components/InfoTooltip.js","utils/ApiAuth.js","components/ProtectedRoute.js","components/App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Loading","id","className","Header","userAuth","onLogout","useState","isActiveProfile","setActiveProfile","exact","path","email","to","onClick","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","userId","cardLikeButtonClassName","link","name","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","sortedCards","setSortedCards","useEffect","newArrCards","sort","a","b","c","Date","createdAt","avatar","about","map","Footer","footerText","ImagePopup","onClose","Object","keys","linkBackend","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","credentials","_handleResponse","dataCard","body","JSON","stringify","dataNewAuthor","cardId","PopupWithForm","title","children","isOpen","buttonText","onSubmit","EditProfilePopup","onUpdateUser","setName","description","setDescription","e","preventDefault","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","ConfirmPopup","onConfirm","Login","setEmail","password","setPassword","isVisiblePassword","setIsVisiblePassword","Register","passwordRepeat","setPasswordRepeat","passwordRepeatErrorText","setPasswordRepeatErrorText","isPasswordMatch","setIsPasswordMatch","console","log","InfoTooltip","message","isError","apiAuth","dataAuth","ProtectedRoute","Component","component","loading","props","loggedIn","isLoading","App","history","useHistory","setIsLoading","setCurrentUser","setCards","setUserAuth","toolTipMessage","setToolTipMessage","isErrorToolTip","setIsErrorToolTip","setLoggedIn","all","getProfile","getCards","profileInfo","data","catch","err","finally","selectedCard","setSelectedCard","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","cardToDelete","setCardToDelete","closeAllPopups","handlePopupClose","currentTarget","checkToken","closeByEscape","key","document","addEventListener","removeEventListener","push","cookie","includes","Provider","logout","register","login","changeLikeCardStatus","newCard","rej","profile","addProfile","newProfile","addCard","updateAvatar","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.76b1a3f9.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","function Loading() {\r\n  return (\r\n    <div id=\"loading\">\r\n      <div id=\"loading_1\" className=\"loading\"></div>\r\n      <div id=\"loading_2\" className=\"loading\"></div>\r\n      <div id=\"loading_3\" className=\"loading\"></div>\r\n      <div id=\"loading_4\" className=\"loading\"></div>\r\n      <div id=\"loading_5\" className=\"loading\"></div>\r\n      <div id=\"loading_6\" className=\"loading\"></div>\r\n      <div id=\"loading_7\" className=\"loading\"></div>\r\n      <div id=\"loading_8\" className=\"loading\"></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading\r\n","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from '../images/logo.svg'\nimport { Link } from 'react-router-dom'\nimport { Route, Switch } from 'react-router-dom'\nimport { useState } from 'react'\n\nfunction Header({ userAuth, onLogout }) {\n  const [isActiveProfile, setActiveProfile] = useState(false)\n\n  function handleBurgerMenuClick() {\n    setActiveProfile(!isActiveProfile)\n  }\n\n  return (\n    <>\n      <Route exact path=\"/\">\n        <div className={`header__profile-top${isActiveProfile ? ' header__profile-top_opened' : ''}`}>\n          <p className=\"header__email\">{userAuth.email}</p>\n          <Link to=\"/sign-in\" className=\"header__link header__link_color_grey\" onClick={onLogout}>\n            Выйти\n          </Link>\n        </div>\n      </Route>\n\n      <header className=\"header page__header\">\n        <img src={logo} alt=\"Логотип Mesto\" className=\"header__logo\" />\n\n        <nav className=\"header__nav\">\n          <Switch>\n            <Route path=\"/sign-up\">\n              <Link to=\"/sign-in\" className=\"header__link\">\n                Войти\n              </Link>\n            </Route>\n            <Route path=\"/sign-in\">\n              <Link to=\"/sign-up\" className=\"header__link\">\n                Регистрация\n              </Link>\n            </Route>\n            <Route exact path=\"/\">\n              <div\n                className={`header__burger-menu-button${isActiveProfile ? ' header__burger-menu-button_icon_close' : ''}`}\n                onClick={handleBurgerMenuClick}\n              />\n              <div className=\"header__profile-right\">\n                <p className=\"header__email\">{userAuth.email}</p>\n                <Link to=\"/sign-in\" className=\"header__link header__link_color_grey\" onClick={onLogout}>\n                  Выйти\n                </Link>\n              </div>\n            </Route>\n          </Switch>\n        </nav>\n      </header>\n    </>\n  )\n}\n\nexport default Header\n","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext()\r\n","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  // check owner\n  const isOwn = card.owner === currentUser._id\n  const cardDeleteButtonClassName = `element__icon-delete${isOwn ? '' : ' element__icon-delete_hidden'}`\n\n  // check likes\n  const isLiked = card.likes.some((userId) => userId === currentUser._id)\n  const cardLikeButtonClassName = `element__icon-like${isLiked ? ' element__icon-like_active' : ''}`\n\n  function handleClick() {\n    onCardClick(card)\n  }\n\n  function handleLikeClick() {\n    onCardLike(card)\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card)\n  }\n\n  return (\n    <li className=\"element\">\n      <div className=\"element__overlay-img\" onClick={handleClick}></div>\n      <img className=\"element__img\" src={card.link} alt={card.name} />\n      <div className=\"element__name-overlay\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__like-overlay\">\n          <button\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            aria-label=\"Нравиться\"\n            onClick={handleLikeClick}\n          ></button>\n          <span className=\"element__like-quantity\">{card.likes.length}</span>\n        </div>\n      </div>\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        aria-label=\"Удалить\"\n        onClick={handleDeleteClick}\n      ></button>\n    </li>\n  )\n}\nexport default Card\n","import React, { useEffect, useState } from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport Card from './Card'\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext)\n  const [sortedCards, setSortedCards] = useState([])\n\n  // sort array\n  useEffect(() => {\n    const newArrCards = cards.sort((a, b) => {\n      let c = new Date(a.createdAt);\n      let d = new Date(b.createdAt);\n      return d - c;\n    });\n    setSortedCards(newArrCards);\n  }, [cards])\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__author\">\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt={`Аватар ${currentUser.name}`} />\n          <div className=\"profile__overlay-avatar\" onClick={onEditAvatar}></div>\n          <div className=\"profile__text\">\n            <div className=\"profile__title-overlay\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <button\n                type=\"button\"\n                className=\"profile__edit-button\"\n                aria-label=\"Редактировать\"\n                onClick={onEditProfile}\n              ></button>\n            </div>\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button type=\"button\" className=\"profile__add-button\" aria-label=\"Добавить\" onClick={onAddPlace}></button>\n      </section>\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {sortedCards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Main\n","function Footer ({footerText}) {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">{footerText}</p>\n    </footer>\n  );\n};\n\nexport default Footer;\n","function ImagePopup({ card, onClose }) {\r\n  return (\r\n    <div className={`popup popup_type_image${Object.keys(card).length ? ' popup_opened' : ''}`} onClick={onClose}>\r\n      <div className=\"popup__image-container\">\r\n        <div className=\"popup__image-overlay\">\r\n          <img src={card.link} className=\"popup__image\" alt={card.name} />\r\n          <button type=\"button\" className=\"popup__icon-close\" aria-label=\"Закрыть\" onClick={onClose}></button>\r\n          <p className=\"popup__image-signature\">{card.name}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup\r\n","export const linkBackend = 'https://api.domainname.michelle.nomoredomains.monster';\n// export const linkBackend = process.env.NODE_ENV === 'production' ? 'https://api.domainname.michelle.nomoredomains.monster' :\n// 'http://localhost:5000';\n","import { linkBackend } from './constants';\n\nclass Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl\n    this._headers = options.headers\n  }\n\n  // обработчик ответа\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json()\n    }\n    return Promise.reject(`Произошла ошибка: ${res.status}`)\n  }\n\n  // получение карточек\n  getCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'GET',\n      credentials: 'include',\n      headers: this._headers,\n    }).then(this._handleResponse)\n  }\n\n  // добавление карточки\n  addCard(dataCard) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      credentials: 'include',\n      headers: this._headers,\n      body: JSON.stringify(dataCard),\n    }).then(this._handleResponse)\n  }\n\n  getProfile() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'GET',\n      credentials: 'include',\n      headers: this._headers,\n    }).then(this._handleResponse)\n  }\n\n  addProfile(dataNewAuthor) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: this._headers,\n      body: JSON.stringify(dataNewAuthor),\n    }).then(this._handleResponse)\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: this._headers,\n    }).then(this._handleResponse)\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: `${isLiked ? 'DELETE' : 'PUT'}`,\n      credentials: 'include',\n      headers: this._headers,\n    }).then(this._handleResponse)\n  }\n\n  updateAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: this._headers,\n      body: JSON.stringify(avatar),\n    }).then(this._handleResponse)\n  }\n}\n\nexport const api = new Api({\n  baseUrl: linkBackend,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n})\n","function PopupWithForm({ title, name, children, isOpen, onClose, buttonText, onSubmit }) {\n  return (\n    <div className={`popup popup_type_${name}${isOpen ? ' popup_opened' : ''}`} onClick={onClose}>\n      <form method=\"POST\" className=\"popup__container\" name={name} onSubmit={onSubmit}>\n        <button type=\"reset\" className=\"popup__icon-close\" aria-label=\"Закрыть\" onClick={onClose}></button>\n        <h3 className=\"popup__heading\">{title}</h3>\n        {children}\n        <button type=\"submit\" className=\"popup__submit-button\">\n          {buttonText}\n        </button>\n      </form>\n    </div>\n  )\n}\n\nexport default PopupWithForm\n","import React, { useState } from 'react'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n  const [name, setName] = useState(currentUser.name)\r\n  const [description, setDescription] = useState(currentUser.about)\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name)\r\n    setDescription(currentUser.about)\r\n  }, [currentUser, isOpen])\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" buttonText=\"Сохранить\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <input\r\n        placeholder=\"Имя\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_name\"\r\n        name=\"name\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        id=\"name-input\"\r\n        value={name || ''}\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className=\"popup__error name-input-error\"></span>\r\n      <input\r\n        placeholder=\"О себе\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_job\"\r\n        name=\"about\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        id=\"job-input\"\r\n        value={description || ''}\r\n        onChange={handleChangeDescription}\r\n      />\r\n      <span className=\"popup__error job-input-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup\r\n","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarRef = React.useRef()\r\n\r\n  function handleOnChangeAvatar(e) {\r\n    e.preventDefault()\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleOnChangeAvatar}\r\n    >\r\n      <input\r\n        ref={avatarRef}\r\n        placeholder=\"Ссылка на фото\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_type_link\"\r\n        name=\"avatar\"\r\n        required\r\n        id=\"avatar-input\"\r\n      />\r\n      <span className=\"popup__error avatar-input-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup\r\n","import React, { useEffect } from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [name, setName] = React.useState('')\r\n  const [link, setLink] = React.useState('')\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onAddPlace({\r\n      name,\r\n      link,\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    setName('')\r\n    setLink('')\r\n  }, [isOpen])\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"add\" title=\"Новое место\" buttonText=\"Создать\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <input\r\n        placeholder=\"Название\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_title\"\r\n        name=\"name\"\r\n        required\r\n        id=\"title-input\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        value={name}\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className=\"popup__error title-input-error\"></span>\r\n      <input\r\n        placeholder=\"Ссылка на картинку\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_type_link\"\r\n        name=\"link\"\r\n        required\r\n        id=\"link-input\"\r\n        value={link}\r\n        onChange={handleChangeLink}\r\n      />\r\n      <span className=\"popup__error link-input-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup\r\n","import PopupWithForm from './PopupWithForm'\r\n\r\nfunction ConfirmPopup({ isOpen, onClose, onConfirm }) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onConfirm()\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"confirm\"\r\n      title=\"Вы уверены?\"\r\n      buttonText=\"Да\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ConfirmPopup\r\n","import { useState } from 'react'\n\nfunction Login({ onSubmit }) {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [isVisiblePassword, setIsVisiblePassword] = useState(false)\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value)\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value)\n  }\n\n  function handleLoginSubmit(e) {\n    e.preventDefault()\n    onSubmit({\n      password,\n      email,\n    })\n  }\n\n  function handlerChangeVisiblePassword() {\n    isVisiblePassword ? setIsVisiblePassword(false) : setIsVisiblePassword(true);\n  }\n\n  return (\n    <form method=\"POST\" className=\"form\" name=\"login\" onSubmit={handleLoginSubmit}>\n      <h3 className=\"form__title\">Вход</h3>\n\n      <input\n        placeholder=\"Email\"\n        type=\"email\"\n        className=\"form__input\"\n        name=\"email\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={email || ''}\n        onChange={handleChangeEmail}\n      />\n      <span className=\"form__error email-input-error\"></span>\n      <div className=\"form__password-overlay\">\n        <input\n          placeholder=\"Пароль\"\n          type={isVisiblePassword ? \"text\" : \"password\"}\n          className=\"form__input\"\n          name=\"password\"\n          required\n          minLength=\"8\"\n          maxLength=\"200\"\n          value={password || ''}\n          onChange={handleChangePassword}\n        />\n        <span className={`form__password-control${isVisiblePassword ? ' visible' : ''}`} onClick={handlerChangeVisiblePassword}></span>\n      </div>\n      <span className=\"form__error password-input-error\"></span>\n      <button type=\"submit\" className=\"form__submit-button\">\n        Войти\n      </button>\n    </form>\n  )\n}\n\nexport default Login\n","import { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nfunction Register({ onSubmit }) {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [passwordRepeat, setPasswordRepeat] = useState('')\n  const [isVisiblePassword, setIsVisiblePassword] = useState(false)\n  const [passwordRepeatErrorText, setPasswordRepeatErrorText] = useState('')\n  const [isPasswordMatch, setIsPasswordMatch] = useState(false)\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value)\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value)\n  }\n\n  function handleRegisterSubmit(e) {\n    e.preventDefault()\n    if (isPasswordMatch) {\n      onSubmit({\n        password,\n        email,\n      })\n    } else {\n      setPasswordRepeatErrorText('Пароли не совпадают');\n    }\n  }\n\n  function handlerChangeVisiblePassword() {\n    isVisiblePassword ? setIsVisiblePassword(false) : setIsVisiblePassword(true);\n  }\n\n  function handleChangePasswordRepeat(e) {\n    setPasswordRepeat(e.target.value)\n  }\n\n  useEffect(() => {\n    passwordRepeat === password ? setIsPasswordMatch(true) : setIsPasswordMatch(false);\n    console.log(passwordRepeat ? true : false)\n  }, [passwordRepeat, password])\n\n  useEffect(() => {\n    isPasswordMatch ? setPasswordRepeatErrorText('') : setPasswordRepeatErrorText('Пароли не совпадают');\n  }, [isPasswordMatch])\n\n  return (\n    <form method=\"POST\" className=\"form\" name=\"register\" onSubmit={handleRegisterSubmit}>\n      <h3 className=\"form__title\">Регистрация</h3>\n\n      <input\n        placeholder=\"Email\"\n        type=\"email\"\n        className=\"form__input\"\n        name=\"email\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={email || ''}\n        onChange={handleChangeEmail}\n      />\n      <span className=\"form__error email-input-error\"></span>\n\n      <div className=\"form__password-overlay\">\n        <input\n          placeholder=\"Пароль\"\n          type={isVisiblePassword ? \"text\" : \"password\"}\n          className=\"form__input\"\n          name=\"password\"\n          required\n          minLength=\"8\"\n          maxLength=\"200\"\n          value={password || ''}\n          onChange={handleChangePassword}\n        />\n        <span className={`form__password-control${isVisiblePassword ? ' visible' : ''}`} onClick={handlerChangeVisiblePassword}></span>\n      </div>\n      <span className=\"form__error password-input-error\"></span>\n\n      {!isVisiblePassword && (\n        <>\n          <input\n            placeholder=\"Повторите пароль\"\n            type=\"password\"\n            className=\"form__input\"\n            name=\"repeat-password\"\n            required\n            value={passwordRepeat || ''}\n            onChange={handleChangePasswordRepeat}\n          />\n          <span className=\"form__error repeat-password-input-error\">{passwordRepeat ? passwordRepeatErrorText : ''}</span>\n        </>\n      )}\n\n\n      <button type=\"submit\" className=\"form__submit-button\">\n        Зарегистрироваться\n      </button>\n      <p className=\"form__text\">\n        Уже зарегистрированы?{' '}\n        <Link to=\"/sign-in\" className=\"form__link\">\n          Войти\n        </Link>\n      </p>\n    </form>\n  )\n}\n\nexport default Register\n","function InfoTooltip({ message, isError, onClose }) {\r\n  return (\r\n    <div className={`popup popup_type_info${message !== '' ? ' popup_opened' : ''}`} onClick={onClose}>\r\n      <div className={`popup__container${isError ? ' popup__container_image_error' : ' popup__container_image_complete'}`}>\r\n        <button type=\"button\" className=\"popup__icon-close\" aria-label=\"Закрыть\" onClick={onClose}></button>\r\n        <h3 className=\"popup__heading popup__heading_type_message\">{message}</h3>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip\r\n","import { linkBackend } from './constants'\n\nclass ApiAuth {\n  constructor({ baseUrl }) {\n    this._baseUrl = baseUrl\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json()\n    } else {\n      return Promise.reject('Что-то пошло не так! Попробуйте ещё раз.')\n    }\n  }\n\n  register(dataAuth) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(dataAuth),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json()\n      } else if (res.status === 400) {\n        return Promise.reject(`Пользователь с таким Email уже зарегистрирован!`)\n      } else {\n        return Promise.reject('Что-то пошло не так! Попробуйте ещё раз.')\n      }\n    })\n  }\n\n  login(dataAuth) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(dataAuth),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json()\n      } else if (res.status === 401) {\n        return Promise.reject(`Пользователь с таким Email не найден или пароль введён не верно!`)\n      } else {\n        return Promise.reject('Что-то пошло не так! Попробуйте ещё раз.')\n      }\n    })\n  }\n\n\n  logout() {\n    return fetch(`${this._baseUrl}/logout`, {\n      method: 'GET',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json()\n      } else {\n        return Promise.reject('Что-то пошло не так! Попробуйте ещё раз.')\n      }\n    })\n  }\n\n  checkToken() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'GET',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json()\n      } else if (res.status === 401) {\n        return Promise.reject(`Токен не валиден`)\n      } else {\n        return Promise.reject(`Что-то пошло не так! Попробуйте ещё раз. Ошибка ${res.status}`)\n      }\n    })\n  }\n}\n\nexport const apiAuth = new ApiAuth({\n  baseUrl: linkBackend,\n})\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nconst ProtectedRoute = ({ component: Component, loading: Loading, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() => {\r\n        if (!props.loggedIn) {\r\n          return <Redirect to=\"./sign-in\" />\r\n        } else if (props.isLoading) {\r\n          return <Loading />\r\n        } else {\r\n          return <Component {...props} />\r\n        }\r\n      }}\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute\r\n","import '../index.css'\nimport Loading from './Loading'\nimport { useEffect, useState } from 'react'\nimport { Route, Switch, useHistory } from 'react-router-dom'\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport ImagePopup from './ImagePopup'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport { api } from '../utils/Api'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport ConfirmPopup from './ConfirmPopup'\nimport Login from './Login'\nimport Register from './Register'\nimport InfoTooltip from './InfoTooltip'\nimport { apiAuth } from '../utils/ApiAuth'\nimport ProtectedRoute from './ProtectedRoute'\n\nfunction App() {\n  const history = useHistory()\n  const [isLoading, setIsLoading] = useState(true)\n  const [currentUser, setCurrentUser] = useState({})\n  const [cards, setCards] = useState([])\n  const [userAuth, setUserAuth] = useState({})\n  const [toolTipMessage, setToolTipMessage] = useState('') // открывает попап и передает сообщение\n  const [isErrorToolTip, setIsErrorToolTip] = useState(false)\n  const [loggedIn, setLoggedIn] = useState(false)\n\n  // get cards\n  useEffect(() => {\n    if (loggedIn) {\n      Promise.all([api.getProfile(), api.getCards()])\n        .then(([profileInfo, cards]) => {\n          setCurrentUser(profileInfo.data)\n          setCards(cards.data)\n        })\n        .catch((err) => {\n          if (loggedIn) {\n            setIsErrorToolTip(true)\n            setToolTipMessage(`Данные профиля или карточек не обновились. ${err}`)\n          }\n        })\n        .finally(() => setIsLoading(false))\n    }\n  }, [loggedIn])\n\n\n  const [selectedCard, setSelectedCard] = useState({})\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  // buttons functions\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false)\n  const [cardToDelete, setCardToDelete] = useState({})\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function handleCardDelete(card) {\n    setIsConfirmPopupOpen(true)\n    setCardToDelete(card)\n  }\n\n  // close popups\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false)\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsConfirmPopupOpen(false)\n    setSelectedCard({})\n    setToolTipMessage('')\n  }\n\n  // обработчик клика закрытия попапов\n  function handlePopupClose(e) {\n    if (e.target === e.currentTarget) {\n      closeAllPopups()\n    }\n  }\n\n  // update profile\n\n  function handleUpdateUser(profile) {\n    api\n      .addProfile(profile)\n      .then((newProfile) => {\n        setCurrentUser(newProfile.data)\n        closeAllPopups()\n      })\n      .catch((rej) => console.log(rej))\n  }\n\n  // avatar update\n  function handleUpdateAvatar(avatar) {\n    api\n      .updateAvatar(avatar)\n      .then((newProfile) => {\n        setCurrentUser(newProfile.data)\n        closeAllPopups()\n      })\n      .catch((rej) => console.log(rej))\n  }\n\n  // ESC close\n  useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups()\n      }\n    }\n    if (selectedCard.link | isEditProfilePopupOpen | isAddPlacePopupOpen | isEditAvatarPopupOpen | isConfirmPopupOpen) {\n      document.addEventListener('keyup', closeByEscape)\n    }\n    return () => document.removeEventListener('keyup', closeByEscape)\n  }, [selectedCard, isEditProfilePopupOpen, isAddPlacePopupOpen, isEditAvatarPopupOpen, isConfirmPopupOpen])\n\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((userId) => userId === currentUser._id)\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((cards) => cards.map((c) => (c._id === card._id ? newCard.data : c)))\n      })\n      .catch((rej) => console.log(rej))\n  }\n\n  // remove cards\n  function handleConfirm() {\n    api\n      .deleteCard(cardToDelete._id)\n      .then((res) => {\n        setCards((cards) => cards.filter((c) => c._id !== cardToDelete._id))\n        closeAllPopups()\n      })\n      .catch((rej) => console.log(rej))\n  }\n\n  // add cards\n  function handleAddPlaceSubmit(card) {\n    api\n      .addCard(card)\n      .then((newCard) => {\n        setCards([newCard.data, ...cards])\n        closeAllPopups()\n      })\n      .catch((rej) => console.log(rej))\n  }\n\n  ///////////////////////////////////////////////////////////////\n\n\n  function handleRegister({ password, email }) {\n    apiAuth\n      .register({\n        password: password,\n        email: email,\n      })\n      .then((res) => {\n        setIsErrorToolTip(false)\n        setToolTipMessage('Вы успешно зарегистрировались!')\n        history.push('/sign-in')\n      })\n      .catch((err) => {\n        setIsErrorToolTip(true)\n        setToolTipMessage(err)\n      })\n  }\n\n\n  function handleLogin({ password, email }) {\n    apiAuth\n      .login({\n        password,\n        email,\n      })\n      .then((res) => {\n        if (res.message === 'Вход совершен успешно') {\n          checkToken()\n        }\n      })\n      .catch((err) => {\n        setIsErrorToolTip(true)\n        setToolTipMessage(err)\n      })\n  }\n\n\n  function checkToken() {\n    apiAuth\n      .checkToken()\n      .then((res) => {\n        auth(res.data._id, res.data.email)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n\n  function auth(id, email) {\n    setLoggedIn(true)\n    setUserAuth({\n      id,\n      email,\n    })\n  }\n\n\n  useEffect(() => {\n    loggedIn ? history.push('/') : history.push('/sign-in')\n  }, [loggedIn])\n\n\n  useEffect(() => {\n    if (document.cookie.includes('jwt=')) {\n      checkToken();\n    }\n  }, [])\n\n\n  function handleLogoutButtonClick() {\n    apiAuth\n      .logout()\n      .then((res) => {\n        setLoggedIn(false)\n        setUserAuth({})\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header userAuth={userAuth} onLogout={handleLogoutButtonClick} />\n        <InfoTooltip isError={isErrorToolTip} message={toolTipMessage} onClose={handlePopupClose} />\n\n        <Switch>\n          <Route path=\"/sign-up\">\n            <Register onSubmit={handleRegister} />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login onSubmit={handleLogin} />\n          </Route>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            component={Main}\n            loggedIn={loggedIn}\n            isLoading={isLoading}\n            loading={Loading}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n        </Switch>\n        {loggedIn && <Footer footerText=\"© 2021 Mesto Russia\" />}\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={handlePopupClose} onUpdateUser={handleUpdateUser} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={handlePopupClose} onAddPlace={handleAddPlaceSubmit} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={handlePopupClose} onUpdateAvatar={handleUpdateAvatar} />\n        <ImagePopup card={selectedCard} onClose={handlePopupClose} />\n        <ConfirmPopup isOpen={isConfirmPopupOpen} onClose={handlePopupClose} onConfirm={handleConfirm} />\n      </CurrentUserContext.Provider>\n    </div>\n  )\n}\nexport default App\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport reportWebVitals from './reportWebVitals'\r\nimport App from './components/App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}